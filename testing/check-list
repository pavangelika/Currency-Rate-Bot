                                                                                                                        23.05.25
1. При первом входе в приложение пользователь видит ознакомительный текст*. Система ожидает нажатия кнопки "Старт"      FAILED
2. После нажатия кнопки "Старт" пользователь видит описание функций бота**.
   Система ожидает нажатия кнопки "Выбор валюты"                                                                        SKIPPED
3. После ввода команды /start пользователь видит описание функций бота**. Система ожидает нажатия кнопки "Выбор валюты" PASSED
4. После нажатия кнопки "Старт" или ввода команды /start в БД сохраняются данные пользователя: user_id, name, username
   chat_id, is_bot, is_premium, date_start, timezone. По умолчанию остаются пустыми: currency_data, everyday(False),
   location, jobs                                                                                                       PASSED
5. После выбора валюты пользователем, выбранная валюта сохраняется в БД для текущего user_id: currency_data             PASSED
6. После выбора валюты пользователем, для выбранной валюты система запрашивает курс валют на текущую дату, результат
   сохраняется в БД для текущего user_id: last_course_data                                                              PASSED
7. Изменить валюту можно при нажатии на кнопку "Изменить валюту"                                                        PASSED
8. Изменить валюту можно при вводе команды /select_rate                                                                 PASSED
8. После изменения валюты пользователем, валюта обновляется в БД для текущего user_id: currency_data                    PASSED
9. Просмотреть выбранные валюты можно при вызове команды /currency                                                      PASSED
10. После выбора валюты пользователем или ее изменения, или отображения выбранных валют по команде /currency
    пользователь видит уведомление с выбранным курсом валют и кнопки.
    Пример уведомления:                                                                                                 PASSED
    Выбранная валюта: Бразильский реал (BRL)
    Кнопки: Изменить валюту, Курс ЦБ сегодня, Подписаться на ежедневную рассылку, Посмотреть график, Курс валют в банках
11. После нажатия кнопки "Курс ЦБ сегодня" или ввода команды \today, если курс валют найден на текущую дату
    пользователь получает сообщение в формате:
    23/05/2025
    Бразильский реал = 14.0955                                                                                          PASSED
12. После нажатия кнопки "Курс ЦБ сегодня" или ввода команды \today, если курс валют не найден на текущую дату
    пользователь получает сообщение:
    Данные на {day} не опубликованы                                                                                     PASSED
13. После нажатия кнопки "Курс ЦБ сегодня" или ввода команды \today, для текущего user_id в БД в поле last_course_data
    сохраняется курс валют на текущую дату по выбранному ранее курсу валют                                              PASSED
14. После нажатия на кнопку "Подписаться на ежедневную рассылку" или ввода команды \today если everyday=False
    пользователю приходит уведомление:
    Вы подписаны на ежедневную рассылку курса валют.                                                                    PASSED
    В БД для текущего user_id в поле everyday=True,                                                                     PASSED
    jobs=прописывается jobs                                                                                             FAILED
15. После нажатия на кнопку "Отписаться от ежедневной рассылки" или ввода команды \today если everyday=True
    пользователю приходит уведомление:
    Вы отписались от ежедневной рассылки курса.                                                                         PASSED
    В БД для текущего user_id в поле everyday=False,                                                                    PASSED
    jobs=удаляется jobs                                                                                                 SKIPPED
16. При подписке на рассылку курса валют на следующий день приходит уведомление о текущем курсе валют или сообщение     PASSED
    "Данные на {day} не опубликованы"
17. При изменении валюты и наличии активной подписки на рассылку курса валют приходит уведомление о текущем курсе валют
    для новой валюты или сообщение "Данные на {day} не опубликованы"                                                    FAILED
18. После нажатия на кнопку "График" или ввода команды /chart пользователю приходит уведомление:
    "Введите диапазон лет (например, 2022-2025 или 2025):"                                                              PASSED
19. Если пользователь отправляет слово, то получает уведомление: Некорректный ввод. Введите год в формате '2025'        PASSED
20. Система принимает года с 2001-2025                                                                                  PASSED
21. Если пользователь вводит период до 2001, то получит уведомление: Ошибка. Данные до 2001 года не предоставляются     PASSED
22. Если пользователь вводит период больше текущего года, то получит уведомление:
    Ошибка. Конечный год не может быть больше {current_year}                                                            PASSED
23. Если пользователь ввел один год, то будет сформирован график за этот год                                            PASSED
24. Если пользователь ввел промежуток с начальный год-конечный год, то график будет сформирован за этот период          PASSED
25. При вводе валидного промежутка времени появляется текст "Подождите, рисуем графики" с анимацией многоточия          PASSED
26. После успешного обновления графика на GITHUB пользователю приходит уведомление:
    "График готов! Нажмите на кнопку ниже:"
    и кнопки для выбора действия: График на телефоне, График на ПК, Выбрать другой диапозон лет                         PASSED
27. При возникновении ошибки обновления графика пользователь получит сообщение:
    "График пока недоступен. Попробуйте позже."                                                                         PASSED
28. По щелчку на кнопку "График на телефоне" график открывается через web-приложение для telegtam                       PASSED
29. По щелчку на кнопку "График на ПК" график открывается через браузер                                                 PASSED
30. По щелчку на кнопку "Выбрать другой диапозон лет" пользователь заново может ввести диапозон годов                   PASSED
31. При вводе любых невалидных значений отображается текст уведомления и система ожидает валидного ввода                PASSED
32. Нажатие на любую кнопку или выбор команды из меню прерывает ожидание ввода данных от пользователя                   PASSED
33. Ввод команды cancel или /cancel, или отмена прерывает ожидание ввода данных от пользователя                         PASSED
34. Ввод команды CANCEL или /CANCEL, или ОТМЕНА прерывает ожидание ввода данных от пользователя                         FAILED


19. После нажатия на кнопку Курс валют в банках вызывается диалог пп
20. Для нескольких пользователей в БД данные записываются и обновляются корректно для каждого пользователя по
    соответсвию user_id.
21. Для нескольких пользователей ежедневная рассылка приходит в соответсвии с currency_data каждого пользователя в БД
    по соответсвию user_id.

* Что может делать этот бот? Этот бот поможет вам следить за изменениями на валютном рынке. Нажмите старт, чтобы начать ⬇️
** 👋 Привет! Этот бот поможет вам следить за изменениями на валютном рынке.
Возможности бота:
📩 Ежедневная рассылка — получайте актуальный курс валют ЦБ каждый день.
📈 Посмотреть график — анализируйте динамику курса с помощью наглядных графиков.
💲 Курс валют в банках — сравнивайте курсы валют в вашем городе за секунды
Пожалуйста, выберите валюту для отслеживания, используя кнопку ниже ⬇️